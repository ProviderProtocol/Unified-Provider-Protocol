---
title: "Variable: h3"
---

[**@providerprotocol/ai**](../../../../index.md)

***

[@providerprotocol/ai](./index.md) / [middleware/pubsub/server](../index.md) / h3

# Variable: h3

> `const` **h3**: `object`

Defined in: [src/middleware/pubsub/server/h3.ts:76](https://github.com/ProviderProtocol/ai/blob/a69934fc726a09868abc2d9bf66b6a1c46d1e64d/src/middleware/pubsub/server/h3.ts#L76)

H3 adapter namespace for pub-sub server utilities.

## Type Declaration

### streamSubscriber()

> **streamSubscriber**: (`streamId`, `adapter`, `event`) => `Promise`\<`void`\>

Stream buffered and live events to an H3 event response.

This utility handles the reconnection pattern for H3/Nuxt routes:
1. Replays all buffered events from the adapter
2. If stream is already completed, ends immediately
3. Otherwise, subscribes to live events until completion

#### Parameters

##### streamId

`string`

The stream ID to subscribe to

##### adapter

[`PubSubAdapter`](../../interfaces/pubsubadapter.md)

The pub-sub adapter instance

##### event

`H3Event`

H3 event object

#### Returns

`Promise`\<`void`\>

#### Example

```typescript
import { streamSubscriber } from '@providerprotocol/ai/middleware/pubsub/server/h3';

export default defineEventHandler(async (event) => {
  const { streamId } = await readBody(event);
  return streamSubscriber(streamId, adapter, event);
});
```
