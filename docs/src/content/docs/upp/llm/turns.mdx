---
title: Turns
description: Turn structure and usage in UPP conversations.
---

import { Aside, Badge, Card, CardGrid } from '@astrojs/starlight/components';

# Turns

<Badge text="UPP-1.3.0" variant="note" />

## Turn Structure

A `Turn` represents the complete result of one inference call:

| Field | Type | Description |
|-------|------|-------------|
| `messages` | List&lt;Message&gt; | All messages produced, chronological |
| `response` | AssistantMessage | Final assistant response |
| `toolExecutions` | List&lt;ToolExecution&gt; | Tool executions that occurred |
| `usage` | TokenUsage | Aggregate token usage |
| `cycles` | Integer | Number of inference cycles |
| `data` | Any? | Structured output data (if structure provided) |

## TokenUsage

| Field | Type | Description |
|-------|------|-------------|
| `inputTokens` | Integer | Input tokens across all cycles |
| `outputTokens` | Integer | Output tokens across all cycles |
| `totalTokens` | Integer | Total tokens |
| `cacheReadTokens` | Integer | Tokens read from cache (0 if unsupported) |
| `cacheWriteTokens` | Integer | Tokens written to cache (0 if unsupported) |

## ToolExecution

| Field | Type | Description |
|-------|------|-------------|
| `toolName` | String | Tool that was called |
| `toolCallId` | String | Tool call ID |
| `arguments` | Map | Arguments passed |
| `result` | Any | Result returned |
| `isError` | Boolean | Whether execution errored |
| `duration` | Integer | Duration in milliseconds |