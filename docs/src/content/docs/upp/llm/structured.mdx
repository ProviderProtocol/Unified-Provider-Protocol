---
title: Structured Output
description: Structured output and JSON schema constraints.
---

import { Aside, Badge, Card, CardGrid } from '@astrojs/starlight/components';

# Structured Output

<Badge text="UPP-1.3.0" variant="note" />

## Overview

Structured outputs constrain model responses to a JSON schema:

```
claude = llm({
  model: anthropic("claude-sonnet-4-20250514"),
  structure: {
    type: "object",
    properties: {
      name: { type: "string" },
      age: { type: "integer" }
    },
    required: ["name", "age"]
  }
})

turn = await claude.generate("John Doe is 30 years old.")
print(turn.data)  // { name: "John Doe", age: 30 }
```

## Requirements

If a provider's API does not support native structured outputs (`capabilities.structuredOutput` is `false`), the `llm()` core MUST throw `INVALID_REQUEST` when `structure` is provided.

UPP SHALL NOT validate responses against the schema. Schema validation is the application's responsibility.