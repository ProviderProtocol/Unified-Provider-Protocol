---
title: Conformance
description: Provider conformance levels and requirements.
---

import { Aside, Badge, Card, CardGrid } from '@astrojs/starlight/components';

# Conformance

<Badge text="UPP-1.3.0" variant="note" />

## Provider Conformance

Providers MAY implement one or more modalities. For each implemented modality:

**LLM Conformance:**

| Level | Requirements |
|-------|--------------|
| Core | Text I/O, `LLMCapabilities` declaration, error normalization, system prompt handling |
| Streaming | `stream()` method, proper `StreamEvent` emission |
| Tools | Tool definition transformation, tool call detection, result handling |
| Structured Output | Schema transformation, JSON parsing |
| Multimodal | Input handling for declared capabilities |

**Embedding Conformance:**

| Level | Requirements |
|-------|--------------|
| Core | `embed()` method, vector return, error normalization |
| Metadata | Preserve per-embedding and response metadata |

**Image Conformance:**

| Level | Requirements |
|-------|--------------|
| Core | `generate()` method, `ImageCapabilities` declaration, error normalization |
| Editing | `edit()` method (if `capabilities.edit`) |
| Streaming | `stream()` method (if `capabilities.streaming`) |

## Error Handling Requirements

All providers MUST:

- Normalize vendor errors to `UPPError`
- Set appropriate `ErrorCode` based on HTTP status
- Include `provider` name and `modality` in all errors
- Preserve original error as `cause` when available

## Configuration Requirements

All providers MUST:

- Pass `params` to vendor API without modification
- Support custom `baseUrl`
- Support custom `fetch` implementation
- Respect `timeout` setting
- Use provided `retryStrategy`

## Metadata Requirements

All providers MUST:

- Namespace metadata under `metadata.{providerName}`
- Preserve unknown metadata fields during round-trips